<div class="card">
  <h2>Add Function</h2>

  <form [formGroup]="functionForm" (ngSubmit)="onSubmit()" class="form">
    <div class="container">
      <mat-form-field appearance="fill">
        <mat-label>Function Name:</mat-label>
        <input
          matInput
          type="text"
          id="functionName"
          formControlName="functionName"
          required
        />
        <mat-error
          *ngIf="
            functionForm.controls['functionName'].invalid &&
            (functionForm.controls['functionName'].dirty ||
              functionForm.controls['functionName'].touched)
          "
        >
          Function Name is required.
        </mat-error>
      </mat-form-field>

      <div class="form-group">
        <label for="submoduleId">Submodule:</label>
        <p-dropdown
          [(ngModel)]="selectedSubmodule"
          [options]="submodules"
          [formControl]="submoduleCtrl"
          [optionLabel]="'subModuleName'"
          [showClear]="true"
          [filter]="true"
          filterBy="subModuleName"
          filterPlaceholder="Search submodule"
          placeholder="Select a sub Module"
          appendTo="body"
        ></p-dropdown>
      </div>

      <div class="button-group">
        <button
          mat-raised-button
          color="primary"
          type="submit"
          class="btn btn-primary"
        >
          Add Function
        </button>
        <button mat-raised-button mat-dialog-close (click)="cancel()">
          Cancel
        </button>
      </div>
    </div>
  </form>
</div>
